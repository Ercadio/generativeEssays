From elliott Paul Elliott Subject Re Analog switches Balanced Demodulators In article skaro Michael Fulbright writes I am trying to build a synchronous demodulator and I've hit a In my application I want to be able to change the gain of an op amp amplifier from to controlable via a digital The most obvious way I've come up with is to use analog switches to adjust the gain of the op The only analog switch I have experience with it the Unfortunately I want to switch an AC signal which goes from about to and the is only for positive I have a carrier signal which varies between and I want to demodulate an input signal by feeding the input signal thru a amp with a gain of when the carrier is at and thru a amp with a gain of when the carrier is The output is then low pass I believe this is called lock in detection as well as synchronous Look at the This is a triple to transmission gate analog multiplexer with positive and negative power supplies can be run from a single ended supply as well With dual supplies the logic inputs still range from ground Volts to This is a neat well I think so design for a switchable polarity amplifier INPUT opamp OUTPUT CONTROL X analog switch GND All resistors are equal When the analog switch is closed the amp is inverting gain of With the switch open it is non inverting gain of You can clean up the circuit to trim out input offset current if this hurts the balance this would show up as carrier feed through For high frequencies the slew rate of the opamp might cause problems especially if it isn't symmetrical and it usually isn't Paul Elliott DSC Optilink Petaluma CA USA uunet pyramid tekbspa optilink elliott or I used to think I was indecisive but now I'm not so