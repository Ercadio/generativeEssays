From Subject Creating Your own ColorMap, i e Lookup Table in X R Hello, Below I have the copy of some source I am using to setup a user specified color map for X R V I am attempting to create user defined colors in terms of RGB color ranges The calls to XAllocColor prove ineffective Variables are defined are as follows int i, j, k, lut index color type min image, max image color type image Pixel Value Range, last image, start, end, jump, lut unsigned long pixel double red, green, blue Data structure used by color operations typedef struct unsigned long pixel unsigned short red, green, blue char flags do red, do green, do blue char pad XColor XColor rgbcolor, hardwarecolor With color type defined as double red, double green, double blue What I need to know is how to set is it possible the values in hardwarecolor to work within the call to XAllocColor start red int min image red end red int max image red jump red int end red start red start green int min image green end green int max image green jump green int end green start green start blue int min image blue end blue int max image blue jump blue int end blue start blue lut index for i i i for j j j for k k k if i jump red lut lut index red start red else lut lut index red jump red i if j jump green lut lut index green start green else lut lut index green jump green j if k jump blue lut lut index blue start blue else lut lut index blue jump blue k hardwarecolor red short lut lut index red hardwarecolor green short lut lut index green hardwarecolor blue short lut lut index blue hardwarecolor pixel lut index printf HW i d d d d pixel d n , lut index, hardwarecolor red, hardwarecolor green, hardwarecolor blue, hardwarecolor pixel status XAllocColor dpy, colormap, hardwarecolor printf HW i d d d d pixel d n , lut index, hardwarecolor red, hardwarecolor green, hardwarecolor blue, hardwarecolor pixel if status XSetForeground dpy, gc, hardwarecolor pixel XFillRectangle dpy, win, gc, , , MAXCOLUMN, MAXROW XFlush dpy sleep printf d f f f at d n , lut index, lut lut index re lut lut index green, lut lut index blue, hardwarecolor pixel lut index lut index Thanks in advance to anyone who can help me with this problem Sincerely, John F Duggan John F Duggan alias Genghis Khan Engineering Computer Services, internet DUGGAN ecs umass edu Univ of Massachusetts, Amherst, MA Bitnet DUGGAN umaecs