From Landon Noll Subject International Obfuscated C Code Contest Opening of Enclosed are the rules guidelines and related information for the International Obfuscated C Code This is part of a part shar file Enjoy chongo Landon Curt Noll oo Larry Bassel bin sh This is a shell archive shar made UTC by Source directory tmp existing files WILL be overwritten This shar contains length mode name r r r rules r r r guidelines r r r r r r rules echo x extracting rules Text sed 's X ' 'SHAR EOF' rules International Obfuscated C Code Contest Rules X XCopyright c Landon Curt Noll Larry Bassel XAll Rights Permission for personal education or non profit use is Xgranted provided this this copyright and notice are included in its entirety Xand remains All other uses must receive prior permission in writing Xfrom both Landon Curt Noll and Larry X X Obfuscate cated cating To render X To To confuse his emotions obfuscated his X obfuscare to darken ob intensive X fuscare to darken fuscus obfuscation X obfuscatory X X XGOALS OF THE CONTEST X X To write the most Obscure Obfuscated C program under the rules X To show the importance of programming style in an ironic X To stress C compilers with unusual X To illustrate some of the subtleties of the C X To provide a safe forum for poor C X X XRULES X X To help us with the volume of entries we ask that you follow these rules X X Your entry must be a complete X X Your entry must be bytes in The number of characters X excluding whitespace tab space newline and excluding any or X followed by either whitespace or end of file must be X X Your entry must be submitted in the following format X X entry Xrule Xfix y or n n this is a new entry y this replaces an older entry Xtitle title of entry see comments below Xentry Entry number from to inclusive your entry should by Xdate Date time of submission in UTC see comments below Xhost Machine s and OS s under which your entry was tested X Use tab indented lines if needed X remark X Place remarks about this entry in this It would be helpful if X you were to indent your remarks with spaces though it is not a X Also if possible try to avoid going beyond the X Blank lines are X author Xname your name Xorg School Company Organization Xaddr postal address X use tab indented lines to continue X don't forget to include the country Xemail Email address from a well known site or registered X If you give several forms list them on separate tab indented Xanon y or n y remain anonymous n ok to publish this info X info XIf your program needs an info file place a uuencoded copy of it in Xthis In the case of multiple info files use multiple info If your entry does not need a info file skip this X build XPlace a uuencoded copy of the command s used to compile build your program Xin this It must uudecode into a file named 'build' The resulting Xfile must be bytes or X program XPlace a uuencoded copy of your program in this It must uudecode Xinto a file named is ' ' The resulting file must follow rule X end X X Regarding the above format X X The title must match the expression a zA a zA X and must be to characters in X X It is suggested but not required that the title should X incorporate your username in the case of multiple authors X consider using parts of the usernames of the X X The date in the entry section should be given with respect X to The format of the date should be as returned by asctime X using the C see guidelines for more info X X You may correct revise a previously submitted entry by sending X it to the contest email Be sure to set 'fix' in the X entry section to 'n' The corrected entry must use the same X title and entry number as submittion that is being Be X sure that you note the resubmittion in the remark as X X With the exception of the header all text outside of the above X format may be ignored by the If you need tell the judges X something put it in the remark section or send a separate X Email message to the X X Information from the author section will be published unless X 'y' was given to the respective author's 'anon' X X To credit multiple authors include an author section for X each Each should start with author line and X should be found between the entry and build X X The entry's remarks should include X what this program does X how to run the program sample args or input X special compile or execution instructions if any X special filename requirements see rule and X information about any data files X why you think the program is obfuscated X note if this entry is a re submission of a previous X any other remarks humorous or otherwise X X Do not your entry's You may suggest that certain X portions of your remarks be if your entry wins an X X Info files should be used only to supplement your They X should not be required to X X If your entry does not need an info file skip the info X If your entry needs multiple info files use multiple X info sections one per info You should describe X each info file in the remark X X If your entry is selected as a winner it will be modified as follows X X 'build' is incorporated into a makefile and 'build' is removed X ' ' is renamed to your entry's title followed by an optional X digit followed by ' ' X your entry is compiled into a file with the name of your entry's X title possibly followed by a digit X X If your entry requires that a build file exist state so in your X entry's remark The makefile will be arranged to execute a X build shell script containing the 'build' The name of X this build shell script will be your entry's title possibly followed X by a digit followed by ' ' X X If needed your entry's remarks should indicate how your entry must X be changed in order to deal with the new X X The build file the source and the resulting executable should be X treated as read only If your entry needs to modify these files X it should make and modify a copy of the appropriate If this X occurs state so in your entry's X X Entries that cannot be compiled by an ANSI C compiler will be X Use of common C K R extensions is permitted as long as it does not X cause compile errors for ANSI C X X The program must be of original All programs must be in the X public All copyrighted programs will be X X Entries must be received prior to May UTC is X essentially equivalent to Greenwich Mean Time Email your entries to X X apple pyramid sun uunet hoptoad obfuscate X X X We request that your message use the subject 'ioccc entry' X X If possible we request that you hold off on Emailing your entries X until Mar Early entries will be accepted X We will attempt to email a confirmation to the the first author for X all entries received after Mar X X Each person may submit up to entries per contest Each entry X must be sent in a separate Email X X Entries requiring human interaction to be built are not X Compiling an entry produce a file or files which may be X X Programs that require special privileges setuid setgid super user X special owner or group are not X X XFOR MORE INFORMATION X X The Judging will be done by Landon Noll and Larry Please send X questions or comments but not entries about the contest to X X apple pyramid sun uunet hoptoad judges X X X The rules and the guidelines may and often do change from year to X You should be sure you have the current rules and guidelines X prior to submitting To obtain all of them send Email X to the address above and use the subject 'send rules' X X One may also obtain them via anonymous ftp from X X host X user anonymous X pass yourname yourhost X dir pub ioccc X X Xchongo Landon Curt Noll cc hoptoad chongo XLarry Bassel uunet ucbvax cbosgd sun lab SHAR EOF chmod rules echo restore of rules failed set wc c rules Wc c if test Wc c then echo original size current size Wc c fi guidelines echo x extracting guidelines Text sed 's X ' 'SHAR EOF' guidelines International Obfuscated C Code Contest Guidelines Hints and Comments X XCopyright c Landon Curt Noll Larry Bassel XAll Rights Permission for personal education or non profit use is Xgranted provided this this copyright and notice are included in its entirety Xand remains All other uses must receive prior permission in writing Xfrom both Landon Curt Noll and Larry X XABOUT THIS FILE X X This file is intended to help people who wish to submit entries to X the International Obfuscated C Code Contest IOCCC for short X X This is not the IOCCC rules though it does contain comments about X The guidelines should be viewed as hints and X Entries that violate the guidelines but remain within the rules are X Even so you are safer if you remain within the X X You should read the current IOCCC rules prior to submitting X The rules are typically sent out with these X X XWHAT IS NEW IN X X The entry format is better for us anyway The program X has been See ENTRY X X We will reject entries that cannot be compiled using an ANSI C X Certain old Obfuscation hacks that cause ANSI C compilers X fits are no longer Some of the new issues deal with X non integral array types variable number of arguments C preprocessor X directives and the exit See OUR LIKES AND X X XHINTS AND SUGGESTIONS X X You are encouraged to examine the winners of previous See X FOR MORE INFORMATION for details on how to get previous X X Keep in mind that rules change from year to year so some winning entries X may not be valid entries this What was unique and novel one year X might be 'old' the next X X An entry is usually examined in a number of We typically apply X a number of tests to an entry X X look at the original source X convert ANSI tri graphs to ASCII X C pre process the source ignoring ' include' lines X C pre process the source ignoring ' define' and ' include' lines X run it through a C beautifier X examine the algorithm X lint it X compile it X execute it X X You should consider how your entry looks in each of the above X You should ask yourself if your entry remains obscure after it has been X 'cleaned up' by the C pre processor and a C X X Your entry need not do well under all or in most In certain X cases a test is not Entries that compete for the X 'strangest most creative source layout' need not do as well as X others in terms of their On the other hand given X two such entries we are more inclined to pick the entry that X does something interesting when you run X X We try to avoid limiting creativity in our As such we leave X the contest open for creative rule As in real life X programming interpreting a requirements document or a customer request X is For this reason we often award 'worst abuse of the X rules' to an entry that illustrates this point in an ironic X X If you do plan to abuse the rules we suggest that you let us know X in the remarks Please note that an invitation to abuse X is not an invitation to We are strict when it comes to the X byte size Also abusing the entry format tends to X annoy more than X X We do realize that there are holes in the rules and invite entries X to attempt to exploit We will award 'worst abuse of the rules' X and then plug the hole next Even so we will attempt to use X the smallest plug needed if not X X Check out your program and be sure that it We sometimes make X the effort to debug an entry that has a slight problem particularly X in or near the final On the other hand we have seen some X of the best entries fall down because they didn't X X We tend to look down on a prime number printer that claims that X is a prime If you do have a bug you are better off X documenting Noting this entry sometimes prints the power X of a prime by mistake would save the above And sometimes X a strange bug feature can even help the entry Of course a correctly X working entry is X X XOUR LIKES AND DISLIKES X X Doing masses of defines to obscure the source has become 'old' We X tend to 'see thru' masses of defines due to our pre processor tests X that we Simply abusing defines or Dfoo bar won't go as far X as a program that is more well rounded in X X Many ANSI C compilers dislike the following code and so do we X X define d define X d foo don't expect this to turn into define foo X X int i X j don't use such implicit type declaration X int k X X We suggest that you compile your entry with an ANSI C If you X must use non ANSI C such as K R C you must avoid areas that result in X compile link errors for ANSI C X X Unfortunately ANSI C requires array indexes to be of integral X Thus the following classical obfuscation hacks are no longer allowed X X int i X char c X i c use c i instead X i string use string i instead X X If your entry uses functions that have a variable number of X arguments be Systems implement va list as a wide variety X of Because of this a number of operations using va list are X not portable and must not be used X X assigning a non va list variable to from a va list variable X casting a non va list variable into from a va list variable X passing a va list variable to a function expecting a non va list arg X passing a non va list variable to a function expecting a va list arg X performing arithmetic on va list variables X using va list as a structure or union X X In particular do not treat va list variables as if they were a char ' X X Avoid using use X X If you use C preprocessor directives define if ifdef X the leading ' ' must be the first character on a While some X C preprocessors allow whitespace the leading ' ' many do X X Because the exit function returns void on some systems entries X must not assume that it returns an X X Small programs are best when they are short obscure and X While such programs are not as complex as other winners they do X serve a useful They are often the only program that people X attempt to completely For this reason we look for X programs that are compact and are X X One line programs should be short one line programs say around X bytes Getting close to bytes is a bit too long in our X X We tend to dislike programs that X X are very hardware specific X are very OS or Un x version specific X index strchr differences are ok but socket streams specific X code is likely not to be X dump core or have compiler warnings X it is ok only if you warn us in the 'remark' header item X won't compile under both BSD or SYS V Un x X abusing the build file to get around the size limit X obfuscate by excessive use of ANSI tri graphs X are longer than they need to be X are similar to previous winners X are identical to previous losers X X Unless you are cramped for space or unless you are entering the X 'best one liner' category we suggest that you format your program X in a more creative way than simply forming excessively long X X The build file should not be used to try and get around the size X It is one thing to make use of a several D's to help out X but it is quite another to use bytes of D's in order to X try and squeeze the source under the size You should feel X free to make use of the build file space but you are better off X if you show some amount of X X We allowed whitespace and in certain cases or do not impact X your program size up to a certain point because we want to get X away from source that is simply a compact blob of X X Given two versions of the same program one that is a compact blob X of code and the other that is formatted more like a typical C X program we tend to favor the second Of course a third X version of the same program that is formatted in an interesting X and or obfuscated way would definitely win over the first two X X We suggest that you avoid trying for the 'smallest self replicating' X We are amazed at the many different sizes that claim X to be the There is nothing wrong with self replicating X In fact a number of winners have been self X You might want to avoid the claim of 'smallest' lest we or others X know of a smaller one X X X client entries should be as portable as Entries that X adapt to a wide collection of environments will be Don't X depend on a particular type of For example don't depend X on color or a given Don't require backing X X X client entries should avoid using X related libraries and X software that is not in wide spread We ask that such X client X entries restrict themselves to only the low level Xlib and the X Athena widget set and X Don't use M tif Xv ew or OpenL ok toolkits since not everyone X has Avoid depending on a particular window Not X everyone has and some people are stuck back in or X earlier so try to target without requiring Better X yet try to make your entry run on all version X Window X X X client entries should not to depend on particular items on X If you must do so be sure to note the required lines X in the remark X X We like programs that X X are as concise and small as they need to be X do something at least quasi interesting X pass lint without complaint not a requirement but it is nice X are portable X are unique or novel in their obfuscation style X MAKE USE OF A NUMBER OF DIFFERENT TYPES OF OBFUSCATION X make us laugh and or throw up X X Some types of programs can't excel in some Of course your X program doesn't have to excel in all areas but doing well in several X areas really does X X We freely admit that interesting creative or humorous comments in X the remark section helps your chance of If you had to X read of many twisted entries you too would enjoy a good laugh or X We think the readers of the contest winners do as X X Be creative X X XENTRY FORMAT X X In order to help us process the many entries we must request your X assistance by formatting your entries in a certain This format X in addition allows us to quickly separate information about the X author from the program see JUDGING PROCESS X X We have provided the program mkentry as an example of how to X format You should be aware of the following warning that X is found in X X This program attempts to implement the IOCCC Every X attempt has been made to make sure that this program produces X an entry that conforms to the contest In all cases X where this program differs from the contest rules the X contest rules will be Be sure to check with the X contest rules before submitting an X X You are not required to use It is convenient however X as it attempts to uuencode the needed files and attempt to check X the entry against the size X X If you have any suggestions comments fixes or complaints about X the program please send Email to the see below X X The following is a sample entry X X entry Xrule Xfix n Xtitle chonglab Xentry Xdate Mon Mar Xhost Un x X X remark X This is a non obfuscated obfuscated C X X It is likely not to win a But what do you expect from X a short example X author Xname Landon Curt Noll Xorg IOCCC Judging Group Xaddr Toad Hall X PO Box X San Francisco California X X USA Xemail Xanon n X author Xname Larry Bassel Xorg IOCCC Judging Group Xaddr Toad Hall X PO Box X San Francisco California X X USA Xemail hoptoad sun lab X Xanon n X info Xbegin P AC VX VQL I P XM ' E B VEO B F W V A XM EO B O B N VXM ' ' I PIG F N ' R ' XM AI R C W Y FEG ' YO A ' XM F ' X L O AE XM B U UU P FEO B M S N EN ' R XM F O VX VQL H AA T T ES I RX AA T T ES YO P ES YO T T ' F T ES XM T ES T T ' F T I R D F O XM Y DQA BP VYE ' E G O B T VQD ' ' AE XM ' W W UA GD VEL D R I T ES ' X Xend X build Xbegin build ' UO ' R V X Xend X program Xbegin XM I B I GL VEF ' R XM VX L F W I 'D U F I T Q EQN X BD B E H P X Xend X end X X Typically the build file should assume that the source is X and will compile into If an entry wins we will rename X its source and binary to avoid filename By tradition X we use the name of the entry's title followed by an optional X digit in case of name X X If the above entry somehow won the 'least likely to win' award X we would use and X X If your entry depends on or requires that your build source X and or binary files be a particular name please say so in the X remark If this case applies it would be be helpful X if you did one of the following X X Tell us how to change the filename s in your X X Have the build file make copies of the For example X X cc o special name need special binary X X or rm f special need special source X cp special X cc special o special name X X or rm f special build need special build X tail build special build X sh special build X X Assume that we will use the entry Send us a version of X your build program files that uses the name You X should uuencode these files in data X X If your entry needs to modify its source info or binary files X please say so in the remark You should try to avoid X touching your original build source and binary You should X arrange to make copies of the files you intend to This X will allow people to re generate your entry from X X Remember that your entry may be built without a build We X typically incorporate the build lines into a If the X build file must exist say so in the remark X X If your entry needs special info files you should uuencode them X into info In the case of multiple info files X use multiple info If no info files are needed X then skip the info X X Info files are intended to be input or detailed information that X does not fit well into the remark For example an X entry that implements a compiler might want to provide some sample X programs for the user to An entry might want to include a X lengthy design document that might not be appropriate for a X 'hints' X X Info files should be used only to supplement your For X example info files may provide sample input or detailed X information about your Because they are supplemental X the entry should not require them X X In some cases your info files might be renamed to avoid name X If info files should not be renamed for some reason X say so in the remark X X Info files must uudecode into the current If they X absolutely must be renamed or moved into a sub directory say X so in the remark X X When submitting multiple entries be sure that each entry has X a unique entry number from to Your first entry should X have entry number X X With the exception of the header all text outside of the entry X format may be That is don't place text outside of the X entry and expect the judges to see Our decoding tools aren't X AI progs If you need tell the the something put it in the X remark section or send a Email to the judges at X X apple pyramid sun uunet hoptoad judges not the address for X submitting entries X X The date should be given with respect to Some systems refer X to this as GMT or The format of the date should be that as X returned by asctime in the C An example of such a string is X X Thr Apr X X This format is similar to the output of the date The X string does not include the timezone name before the On many X systems one of the following command will produce a similar string X X date u a h d T y X date u sed e 's ' X sh c 'TZ UTC date sed e s ' X sh c 'TZ GMT date sed e s ' X sh c 'TZ date sed e s ' X X You are allowed to update fix revise your To do so set X the 'fix' line in the entry section to 'y' instead of 'n' X Be sure that the resubmittion uses the same title and entry number X as well as these are used to determine which entry is to be X X X XJUDGING PROCESS X X Entries are judged by Larry Bassel and Landon Curt X X Entries are unpacked into individual The Email message X is unpacked into individual files each containing X X entry section X all author sections X all info sections X build section X program section X any other text including the Email message headers X X Prior to judging the 'any other text' file is scanned to be sure X it does not contain useful information or in case the entry was X malformed and did not unpack correctly Information from the X author sections are not read until the judging process is X complete and then only from entries that have won an X X The above process helps keep us biased for against any one particular X We are usually kept in the dark as much as you are X until the final awards are We like the surprise of finding X out in the end who won and where they were X X We attempt to keep all entries anonymous unless they win an X Because the main 'prize' of winning is being announced we make all X attempts to send non winners into We remove all non winning X files and shred all related By tradition we do not even X reveal the number of entries that we for the curious X we do indicate the volume of paper consumed when presenting the IOCCC X winners at talks X X After the Usenix announcement we attempt to send Email to the X authors of the winning One reason we do this is to give X the authors a chance to comment on the way we have presented their X They are given the chance to correct mistakes We X often accept their suggestions comments about our remarks as X This is done prior to posting the winners to the wide X X Judging consists of a number of elimination During a round X the collection of entries are divided into two roughly equal piles X the pile that advances on to the next round and the pile that does X We also re examine the entries that were eliminated in the X previous Thus an entry gets at least two X X A reading consists of a number of actions X X reading the entry section X reading the uudecoded build section X reading the uudecoded program section X reading the uudecoded info section s if any X passing the source thru the C pre processor X shipping over any include files X performing a number of C beautify cleanup edits on the source X passing the beautified source thru the C pre processor X shipping over any include files X X In later rounds other actions are performed X X linting the source X compiling building the source X running the program X performing misc tests on the source and binary X X Until we reduce the stack of entries down to about entries entries X are judged on an individual An entry is set aside because it X does not in our opinion meet the standard established by the X When the number of entries thins to about entries we begin to form X award Entries begin to compete with each other for X An entry often will compete in several X X The actual award category list will vary depending on the types of entries X we A typical category list might be X X best small one line program X best small program X strangest most creative source layout X most useful obfuscated program X best game that is obfuscated X most creatively obfuscated program X most deceptive C code X best X client see OUR LIKES AND DISLIKES X best abuse of ANSI C X worst abuse of the rules X anything else so strange that it deserves an award X X We do not limit ourselves to this For example a few entries are so X good bad that they are declared winners at the start of the final X We will invent awards categories for them if X X In the final round process we perform the difficult tasks of X reducing the remaining entries typically about down to or X Often we are confident that the entries that make it into X the final round are definitely better than the ones that do not X make The selection of the winners out of the final round is X less clear X X Sometimes a final round entry good enough to win but is beat out X by a similar but slightly better For this reason it is X sometimes worthwhile to re enter an improved version of an entry X that failed to win in a previous This assumes of course X that the entry is worth improving in the first place X X More often that not we select a small entry usually one line a X strange creative layout entry and an entry that abuses the contest X rules in some X X In the end we traditionally pick one entry as 'best' Sometimes such X an entry simply far exceeds any of the other More often the X 'best' is picked because it does well in a number of X X XANNOUNCEMENT OF WINNERS X X The first announcement occurs at a Summer Usenix By tradition X this is done during the latter part of the UUNET IOCCC BOF just prior to X the Berkeley BSD and BSDI X X Winning entries will be posted in late June to the following groups X X X X In addition pointers to these postings are posted to the following X X X X X Winning entries will be deposited into the uunet See X below for X X Often winning entries are published in selected Winners X have appeared in books The New Hackers Dictionary and on T X X Last but not least winners receive international fame and flames X X XFOR MORE INFORMATION X X You may contact the judges by sending Email to the following address X X apple pyramid sun uunet hoptoad judges not the address for X submitting entries X X Questions and comments about the contest are X X One may obtain a copy of the current rules guidelines or mkentry X To obtain all of them send Email to the address above X and use the subject 'send rules' X X One may also obtain the above items we well as winners of previous X contests via anonymous ftp from X X host X user anonymous X pass yourname yourhost X dir pub ioccc X X Often contest rules guidelines and winners are available from X archive Check archives for X You may also request previous winners by Email using the judges X Email address though we ask that you do this as a last X X Xchongo Landon Curt Noll cc hoptoad chongo XLarry Bassel uunet ucbvax cbosgd sun lab SHAR EOF chmod guidelines echo restore of guidelines failed set wc c guidelines Wc c if test Wc c then echo original size current size Wc c fi echo End of part continue with part exit Sunnyvale residents Vote Landon Noll for Sunnyvale City Council seat