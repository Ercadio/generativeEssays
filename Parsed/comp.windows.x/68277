From Oliver Jones Subject Re XQueryTree XGrabServer and robustness In article Josh Marantz writes I have an application that wants to walk the server window hierarchy looking for a window with a specific I think what happens is that XQueryTree gives me an array of n children but by the time I get to the nth child window it has been Then I get a BadWindow error and my application How can I make this robust I've thought of the following Set up an X error handler that longjmps back to where I made the offending Is this safe Do I have to longjmp or can I just return BadWindow is an X protocol If you write a custom error handler which does not do exit the error handler will return and let your program carry So using a XSetErrorHandler is the way to go but never mind the Register for DestroyNotify on all the windows returned from Too