From Bram Subject Creating bit windows on bit How Greetings I am using an X server that provides visuals PseudoColor bit Truecolor bit and DirectColor A problem occurs when I try to create a window with a visual that is different from the visual of the parent which uses the default visual which is In the Xlib reference guide from 'O reilly one can read in the section about XCteateWindow something like In the current implementation of When using a visual other than the parent's be sure to create or find a suitable colourmap which is to be used in the window attributes when creating or else a BadMatch This warning strangely enough is only mentioned in the newer editions of the However even if I pass along a suitable colourmap I still get a BadMatch when I create a window with a non default The code looks like this cut here and you'll destroy your CRT Window create window on truecolour display dpy width height Display dpy int width height Window win XVisualInfo vinfo XSetWindowAttributes attr fprintf stderr Opening bit n if XMatchVisualInfo dpy DefaultScreen dpy PseudoColor vinfo fprintf stderr Your display can't handle bit n exit fprintf stderr Using visual x n visualid cmap XCreateColormap dpy DefaultRootWindow dpy AllocNone XSync dpy False XInstallColormap dpy cmap ommision of this line gives same result cmap win XCreateWindow dpy DefaultRootWindow dpy width height CopyFromParent border width depth InputOutput class visual CWColormap attr return win cut here and you'll destroy your CRT Executing this piece of code results in a BadMatch Anybody who knows why If so please drop me a Take care Bram Stolk